(()=>{"use strict";var e={7734:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var n,o,s;if(Array.isArray(r)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(o of r.entries())if(!t.has(o[0]))return!1;for(o of r.entries())if(!e(o[1],t.get(o[0])))return!1;return!0}if(r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(o of r.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(r[o]!==t[o])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((n=(s=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=n;0!=o--;){var u=s[o];if(!e(r[u],t[u]))return!1}return!0}return r!=r&&t!=t}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var s=r[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var n={};t.d(n,{default:()=>j});const o=window.wp.element,s=window.wp.data;var u=t(7734),i=t.n(u);const c=window.wp.compose,l=window.wp.i18n,a=window.wp.apiFetch;var f=t.n(a);const d=window.wp.url,p=window.wp.components,w=window.wp.blocks,y=window.ReactJSXRuntime,h={};function g({className:e}){return(0,y.jsx)(p.Placeholder,{className:e,children:(0,l.__)("Block rendered as empty.")})}function b({response:e,className:r}){const t=(0,l.sprintf)(
// translators: %s: error message describing the problem
// translators: %s: error message describing the problem
(0,l.__)("Error loading block: %s"),e.errorMsg);return(0,y.jsx)(p.Placeholder,{className:r,children:t})}function m({children:e}){const[r,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),1e3);return()=>clearTimeout(e)}),[]),(0,y.jsxs)("div",{style:{position:"relative"},children:[r&&(0,y.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"},children:(0,y.jsx)(p.Spinner,{})}),(0,y.jsx)("div",{style:{opacity:r?"0.3":1},children:e})]})}function v(e){const{className:r,EmptyResponsePlaceholder:t=g,ErrorResponsePlaceholder:n=b,LoadingResponsePlaceholder:s=m}=e,u=(0,o.useRef)(!1),l=(0,o.useRef)(),[a,p]=(0,o.useState)(null),v=(0,c.usePrevious)(e),[x,j]=(0,o.useState)(!1),S=(0,o.useRef)(e);(0,o.useLayoutEffect)((()=>{S.current=e}),[e]);const O=(0,o.useCallback)((()=>{var e,r;if(!u.current)return;const{attributes:t,block:n,skipBlockSupportAttributes:o=!1,httpMethod:s="GET",urlQueryArgs:i}=S.current;j(!0);let c=t&&(0,w.__experimentalSanitizeBlockAttributes)(n,t);o&&(c=function(e){const{backgroundColor:r,borderColor:t,fontFamily:n,fontSize:o,gradient:s,textColor:u,className:i,...c}=e,{border:l,color:a,elements:f,spacing:d,typography:p,...w}=e?.style||h;return{...c,style:w}}(c));const a="POST"===s,y=function(e,r=null,t={}){return(0,d.addQueryArgs)(`/wp/v2/block-renderer/${e}`,{context:"edit",...null!==r?{attributes:r}:{},...t})}(n,a?null:null!==(e=c)&&void 0!==e?e:null,i),g=a?{attributes:null!==(r=c)&&void 0!==r?r:null}:null,b=l.current=f()({path:y,data:g,method:a?"POST":"GET"}).then((e=>{u.current&&b===l.current&&e&&p(e.rendered)})).catch((e=>{u.current&&b===l.current&&p({error:!0,errorMsg:e.message})})).finally((()=>{u.current&&b===l.current&&j(!1)}));return b}),[]),k=(0,c.useDebounce)(O,500);(0,o.useEffect)((()=>(u.current=!0,()=>{u.current=!1})),[]),(0,o.useEffect)((()=>{void 0===v?O():i()(v,e)||k()}));const P=!!a,R=""===a,A=!!a?.error;return x?(0,y.jsx)(s,{...e,children:P&&!A&&(0,y.jsx)(o.RawHTML,{className:r,children:a})}):R||!P?(0,y.jsx)(t,{...e}):A?(0,y.jsx)(n,{response:a,...e}):(0,y.jsx)(o.RawHTML,{className:r,children:a})}const x={};function j({urlQueryArgs:e=x,...r}){const t=(0,s.useSelect)((e=>{const r=e("core/editor")?.getCurrentPostId();return r&&"number"==typeof r?r:null}),[]),n=(0,o.useMemo)((()=>t?{post_id:t,...e}:e),[t,e]);return(0,y.jsx)(v,{urlQueryArgs:n,...r})}(window.wp=window.wp||{}).serverSideRender=n.default})();
//# sourceMappingURL=index.min.js.map